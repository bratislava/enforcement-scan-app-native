appId: com.bratislava.enforcement
---
- launchApp
- waitForAnimationToEnd
# Set location to Dunajska street
- setLocation:
    latitude: 48.144426
    longitude: 17.113238
- assertVisible:
    id: municipal-police
- tapOn:
    id: municipal-police

- tapOn: 'Evidenčné číslo vozidla'
- inputText: BT163CG
- tapOn: Ďalej
- assertVisible: 'Vyberte druh priestupku'
- tapOn: 'Vyberte druh priestupku'
- tapOn: 'Nerešpektovanie DZ'
- tapOn: Pokračovať
- runFlow:
    when:
      visible: Duplicita
    commands:
      - tapOn: Vytvoriť hlásenie
- assertVisible: Detail vozidla
- tapOn: Pokračovať
- repeat:
    times: 5
    commands:
      - extendedWaitUntil:
          visible:
            id: 'take-picture'
            enabled: true
          timeout: 5000
      - tapOn:
          id: 'take-picture'
# Will create offence
- tapOn:
    id: 'create-offence'
- extendedWaitUntil:
    visible:
      id: 'new-scan'
    timeout: 10000
- tapOn:
    id: 'new-scan'
- tapOn: 'Evidenčné číslo vozidla'
- inputText: BT163CG
- tapOn: Ďalej
# Will consider as duplicity
- assertVisible:
    id: PAAS_PARKING_VIOLATION_DUPLICITY
- tapOn: Ďalej
- assertVisible: 'Vyberte druh priestupku'
- tapOn: 'Vyberte druh priestupku'
- tapOn: 'Nerešpektovanie DZ'
- tapOn: Pokračovať
# Will show duplicity modal
- assertVisible: 'Duplicita'
